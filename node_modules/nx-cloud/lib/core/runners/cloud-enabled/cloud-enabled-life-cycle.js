const a0_0x40dc=['readTaskTerminalOutput','task','outputObfuscator','filter','remote-cache-hit','cache','../../../utilities/serializer-overrides','CloudEnabledLifeCycle','hash','remote-cache','startTime','cleanUpHashDetails','code','toISOString','statuses','project','updateStartedTask','forEach','__esModule','cacheableOperations','npm:','defineProperty','endTime','startsWith','push','implicitDeps','runContext','scheduleTask','status','hashDetails','scheduledTasks','obfuscate','local-cache-hit','local-cache-kept-existing','startTask','find','tasks','params','keys','cacheDirectory','nodes','taskId','terminalOutput','target','cache-miss','getTerminalOutput'];(function(_0x1d968c,_0x40dc40){const _0x2e60c7=function(_0x1bfde9){while(--_0x1bfde9){_0x1d968c['push'](_0x1d968c['shift']());}};_0x2e60c7(++_0x40dc40);}(a0_0x40dc,0xe0));const a0_0x2e60=function(_0x1d968c,_0x40dc40){_0x1d968c=_0x1d968c-0x0;let _0x2e60c7=a0_0x40dc[_0x1d968c];return _0x2e60c7;};'use strict';Object[a0_0x2e60('0x1b')](exports,a0_0x2e60('0x18'),{'value':!![]});exports[a0_0x2e60('0xd')]=void 0x0;const serializer_overrides_1=require(a0_0x2e60('0xc'));const read_task_terminal_output_1=require('../../terminal-output/read-task-terminal-output');class CloudEnabledLifeCycle{constructor(_0xd228c9,_0x1b0403,_0xcecb42,_0x5157b5,_0x54ecca,_0x379cd9){this[a0_0x2e60('0x20')]=_0xd228c9;this[a0_0x2e60('0x2d')]=_0x1b0403;this['collectTerminalOutput']=_0xcecb42;this[a0_0x2e60('0x19')]=_0x5157b5;this[a0_0x2e60('0x8')]=_0x54ecca;this[a0_0x2e60('0x2a')]=_0x379cd9;}[a0_0x2e60('0x21')](_0x17ff1d){this[a0_0x2e60('0x20')][a0_0x2e60('0x24')][a0_0x2e60('0x1e')](_0x17ff1d);}[a0_0x2e60('0x28')](_0x2e6a99){this['tasks'][a0_0x2e60('0x1e')]({'taskId':_0x2e6a99['id'],'startTime':new Date()[a0_0x2e60('0x13')](),'target':_0x2e6a99['target'][a0_0x2e60('0x3')],'projectName':_0x2e6a99[a0_0x2e60('0x3')][a0_0x2e60('0x15')],'hash':_0x2e6a99[a0_0x2e60('0xe')],'hashDetails':this['cleanUpHashDetails'](_0x2e6a99[a0_0x2e60('0x23')]),'params':(0x0,serializer_overrides_1['serializeOverrides'])(_0x2e6a99),'uploadedToStorage':![]});}['endTasks'](_0x38f526){for(let _0x51707f of _0x38f526){let _0x4de91f;const _0x22f157=_0x51707f['status']===a0_0x2e60('0xf');const _0x26c07f=_0x51707f[a0_0x2e60('0x22')]===a0_0x2e60('0xb');const _0x5c1e52=_0x51707f[a0_0x2e60('0x22')]==='local-cache'||_0x51707f[a0_0x2e60('0x22')]===a0_0x2e60('0x27')||_0x26c07f;if(this['runContext'][a0_0x2e60('0x14')][_0x51707f[a0_0x2e60('0x7')]['hash']]){_0x4de91f=this['runContext'][a0_0x2e60('0x14')][_0x51707f[a0_0x2e60('0x7')][a0_0x2e60('0xe')]];}else if(_0x22f157){_0x4de91f=a0_0x2e60('0xa');}else if(_0x5c1e52){_0x4de91f=a0_0x2e60('0x26');}else{_0x4de91f=a0_0x2e60('0x4');}this[a0_0x2e60('0x16')](_0x51707f,_0x4de91f);}}['endCommand'](){}[a0_0x2e60('0x16')](_0x3bc856,_0x5bbec1){const _0x1bb265=this[a0_0x2e60('0x2a')][a0_0x2e60('0x29')](_0x574270=>_0x574270[a0_0x2e60('0x1')]===_0x3bc856['task']['id']);if(!_0x1bb265){throw new Error('Cannot\x20find\x20task\x20'+_0x3bc856[a0_0x2e60('0x7')]['id']);}if((_0x3bc856===null||_0x3bc856===void 0x0?void 0x0:_0x3bc856[a0_0x2e60('0x10')])&&(_0x3bc856===null||_0x3bc856===void 0x0?void 0x0:_0x3bc856[a0_0x2e60('0x1c')])){_0x1bb265['startTime']=new Date(_0x3bc856[a0_0x2e60('0x10')])[a0_0x2e60('0x13')]();_0x1bb265[a0_0x2e60('0x1c')]=new Date(_0x3bc856['endTime'])[a0_0x2e60('0x13')]();}else{_0x1bb265[a0_0x2e60('0x1c')]=new Date()[a0_0x2e60('0x13')]();}_0x1bb265[a0_0x2e60('0x22')]=_0x3bc856[a0_0x2e60('0x12')];_0x1bb265[a0_0x2e60('0x2b')]=this[a0_0x2e60('0x8')][a0_0x2e60('0x25')](_0x1bb265[a0_0x2e60('0x2b')]);_0x1bb265['cacheStatus']=_0x5bbec1;if(this['collectTerminalOutput']){_0x1bb265[a0_0x2e60('0x2')]=this[a0_0x2e60('0x5')](_0x3bc856[a0_0x2e60('0x7')]['hash'],_0x1bb265['cacheStatus'],_0x3bc856['code']);}}[a0_0x2e60('0x5')](_0x38ee67,_0x33a7cc,_0x1751a9){return(0x0,read_task_terminal_output_1[a0_0x2e60('0x6')])(this[a0_0x2e60('0x2d')],this[a0_0x2e60('0x8')],_0x38ee67,_0x33a7cc,_0x1751a9);}[a0_0x2e60('0x11')](_0x1ffe50){const _0x18dee3={};Object[a0_0x2e60('0x2c')](_0x1ffe50[a0_0x2e60('0x0')])[a0_0x2e60('0x9')](_0x5e156c=>!_0x5e156c[a0_0x2e60('0x1d')](a0_0x2e60('0x1a')))[a0_0x2e60('0x17')](_0x5883ea=>{_0x18dee3[_0x5883ea]=_0x1ffe50[a0_0x2e60('0x0')][_0x5883ea];});return{'nodes':_0x18dee3,'runtime':_0x1ffe50['runtime'],'implicitDeps':_0x1ffe50[a0_0x2e60('0x1f')]};}}exports[a0_0x2e60('0xd')]=CloudEnabledLifeCycle;